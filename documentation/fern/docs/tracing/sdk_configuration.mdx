The recommended approach to configuring the Python SDK is to use the `gpthouse configure` command. This will prompt you to set up your API key and GPTHOUSE instance URL (if applicable) to ensure proper routing and authentication. All details will be saved to a configuration file.

<Tabs>
    <Tab value="GPTHOUSE Cloud" title="GPTHOUSE Cloud">

If you are using the Cloud version of the platform, you can configure the SDK by running:

```python
import gpthouse

gpthouse.configure(use_local=False)
```

You can also configure the SDK by calling [`configure`](https://www.comet.com/docs/gpthouse/python-sdk-reference/cli.html) from the Command line:

```bash
gpthouse configure
```

    </Tab>
    <Tab value="Self-hosting" title="Self-hosting">

If you are self-hosting the platform, you can configure the SDK by running:

```python
import gpthouse

gpthouse.configure(use_local=True)
```

or from the Command line:

```bash
gpthouse configure --use_local
```

    </Tab>

</Tabs>

The `configure` methods will prompt you for the necessary information and save it to a configuration file (`~/.gpthouse.config`). When using the command line version, you can use the `-y` or `--yes` flag to automatically approve any confirmation prompts:

```bash
gpthouse configure --yes
```

## Advanced usage

In addition to the `configure` method, you can also configure the Python SDK in a couple of different ways:

1. Using a configuration file
2. Using environment variables

### Using a configuration file

The `configure` method is a helper method to help you create the GPTHOUSE SDK configuration file but you can also manually create the configuration file.

The GPTHOUSE configuration file follows the [TOML](https://github.com/toml-lang/toml) format, here is an example configuration file:

<Tabs>
    <Tab value="GPTHOUSE Cloud" title="GPTHOUSE Cloud">

```toml
[gpthouse]
url_override = https://www.comet.com/gpthouse/api
api_key = <API Key>
workspace = <Workspace name>
project_name = <Project Name>
```

    </Tab>
    <Tab value="Self-hosting" title="Self-hosting">

```toml
[gpthouse]
url_override = http://localhost:5173/api
workspace = default
project_name = <Project Name>
```

    </Tab>

</Tabs>

You can find a full list of the configuration options in the [Configuration values section](/tracing/sdk_configuration#configuration-values) below.

<Tip>
  By default, the SDK will look for the configuration file in your home directory (`~/.gpthouse.config`). If you would like
  to specify a different location, you can do so by setting the `GPTHOUSE_CONFIG_PATH` environment variable.
</Tip>

### Using environment variables

If you do not wish to use a configuration file, you can set environment variables to configure the SDK. The most common configuration values are:

- `GPTHOUSE_URL_OVERRIDE`: The URL of the GPTHOUSE server to use - Defaults to `https://www.comet.com/gpthouse/api`
- `GPTHOUSE_API_KEY`: The API key to use - Only required if you are using the GPTHOUSE Cloud version of the platform
- `GPTHOUSE_WORKSPACE`: The workspace to use - Only required if you are using the GPTHOUSE Cloud version of the platform

You can find a full list of the configuration options in the [Configuration values section](/tracing/sdk_configuration#configuration-values) below.

### Configuration values

Here is a list of the configuration values that you can set:

| Configuration Name         | Environment variable         | Description                                                                                  |
| -------------------------- | ---------------------------- | -------------------------------------------------------------------------------------------- |
| url_override               | `GPTHOUSE_URL_OVERRIDE`          | The URL of the GPTHOUSE server to use - Defaults to `https://www.comet.com/gpthouse/api`             |
| api_key                    | `GPTHOUSE_API_KEY`               | The API key to use - Only required if you are using the GPTHOUSE Cloud version of the platform   |
| workspace                  | `GPTHOUSE_WORKSPACE`             | The workspace to use - Only required if you are using the GPTHOUSE Cloud version of the platform |
| project_name               | `GPTHOUSE_PROJECT_NAME`          | The project name to use                                                                      |
| gpthouse_track_disable         | `GPTHOUSE_TRACK_DISABLE`         | Flag to disable the tracking of traces and spans - Defaults to `false`                       |
| default_flush_timeout      | `GPTHOUSE_DEFAULT_FLUSH_TIMEOUT` | The default flush timeout to use - Defaults to no timeout                                    |
| gpthouse_check_tls_certificate | `GPTHOUSE_CHECK_TLS_CERTIFICATE` | Flag to check the TLS certificate of the GPTHOUSE server - Defaults to `true`                    |

### The HTTP client advanced configuration

The GPTHOUSE Python SDK uses the [httpx](https://www.python-httpx.org/) library to make HTTP requests.
The default configuration applied to the HTTP client is suitable for most use cases, but you can customize
it by registering a custom httpx client hook as in following example:

```python
import gpthouse.hooks

def custom_auth_client_hook(client: httpx.Client) -> None:
    client.auth = CustomAuth()

hook = gpthouse.hooks.HttpxClientHook(
    client_init_arguments={"trust_env": False},
    client_modifier=custom_auth_client_hook,
)
gpthouse.hooks.add_httpx_client_hook(hook)

# Use the GPTHOUSE SDK as usual

```

<Icon icon="warning" color="#DB0030" /> Make sure to add the hook before using the GPTHOUSE SDK.

### Common error messages

#### SSL certificate error

If you encounter the following error:

```
[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self-signed certificate in certificate chain (_ssl.c:1006)
```

You can resolve it by either:

- Disable the TLS certificate check by setting the `GPTHOUSE_CHECK_TLS_CERTIFICATE` environment variable to `false`
- Add the GPTHOUSE server's certificate to your trusted certificates by setting the `REQUESTS_CA_BUNDLE` environment variable

### How can I diagnose issues with GPTHOUSE?

If you are experiencing any problems using GPTHOUSE, such as receiving 400 or 500 errors from the backend, or being unable to connect at all, we recommend running the following command in your terminal:

```bash
gpthouse healthcheck
```

This command will analyze your configuration and backend connectivity, providing useful insights into potential issues.

<Frame>
  <img src="../../img/healthcheck.png" />
</Frame>

Reviewing these sections can help pinpoint the source of the problem and suggest possible resolutions.
